<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Phaser Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>

    <script>
    class Example extends Phaser.Scene {
        preload() {
            // Load images from the local directory
            this.load.image('cowboy', 'assets/images/cowboy2.png');
            this.load.image('backgroundMain', 'assets/images/backgroundMain.png');
        }

        create() {
            // Add the background image to cover the entire screen
            this.add.image(window.innerWidth / 2, window.innerHeight / 2, 'backgroundMain').setDisplaySize(window.innerWidth, window.innerHeight);

            // Add your cowboy character in the middle-bottom of the screen
            this.cowboy = this.physics.add.sprite(window.innerWidth / 2, window.innerHeight - 100, 'cowboy');
            
            // Set cowboy properties
            this.cowboy.setCollideWorldBounds(true); // Make sure cowboy stays within screen bounds
            this.cowboy.body.setGravityY(0); // Remove gravity effect on cowboy

            // Create input keys
            this.cursors = this.input.keyboard.createCursorKeys();
            this.wasd = {
                up: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),
                down: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),
                left: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),
                right: this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D)
            };
        }

        update() {
            this.cowboy.setVelocity(0);

            if (this.cursors.left.isDown || this.wasd.left.isDown) {
                this.cowboy.setVelocityX(-200);
                this.cowboy.setFlipX(false); // Face left
            } else if (this.cursors.right.isDown || this.wasd.right.isDown) {
                this.cowboy.setVelocityX(200);
                this.cowboy.setFlipX(true); // Face right
            }
        }
    }

    const config = {
        type: Phaser.AUTO,
        width: window.innerWidth,
        height: window.innerHeight,
        scene: Example,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 0 } // Set global gravity to zero
            }
        },
        scale: {
            mode: Phaser.Scale.RESIZE,
            autoCenter: Phaser.Scale.CENTER_BOTH
        }
    };

    const game = new Phaser.Game(config);
    </script>

</body>
</html>
